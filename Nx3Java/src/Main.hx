package ;
import letters.Path;
import letters.targetJava.BasicJava;
import nx3.NHead;
import nx3.NNote;
import nx3.render.TargetJFrame;
import nx3.test.Unittests;

import java.awt.Paint;
import java.awt.Graphics2D;
import java.awt.Shape;
import java.awt.geom.GeneralPath;
import java.awt.Color;
import javax.swing.JFrame;
import javax.swing.JPanel;

/**
 * ...
 * @author Jonas Nystr√∂m
 */
class Main extends TargetJFrame
{

	public static function main() 
	{
		trace('java');
		Unittests.performTests();
		new Main();
		//var target = new TargetJFrame();
	}
	
	
	public function new() 
	{
        super();
		var path = Path.generateVectorText(    'a', 0, 0, 1 ,300., 22., null, Path.rainbowPencilHighlight );		
		trace(path);
		drawToScreen( path );
		//drawToScreen( path );
		
	}
	
	public function drawToScreen( path_: Array<CommandData> ) 
	{
		
        var path = path_;
        surface.paintFunction = function( g2D: Graphics2D ) {
            // Maybe changing winding rule will help letter 'c' to be drawn?
            //g2D.setWindingRule(GeneralPath.WIND_NON_ZERO);
            // Not updated to use for color there are quite a few java issues to resolve so this target on hold
            var gPath = new GeneralPath();
            var p: Array<Float>;
            for( cmd in path ) {
                p = cmd.v0;
                switch( cmd.v1 ) {
                    case MoveTo:    gPath.moveTo( p[0], p[1] );
                    case LineTo:    gPath.lineTo( p[0], p[1] );
                    case CurveTo:   gPath.quadTo( p[0], p[1], p[2], p[3] );
                    case _:
                }
            }
            gPath.closePath();
            g2D.setColor( Color.BLACK );
            g2D.fill( gPath );
			
			ClefG.paint(g2D);
			
            g2D.dispose();
        }
    } 
	
	
}


//import static java.awt.Color.*;
//import static java.awt.MultipleGradientPaint.CycleMethod.*;
//import static java.awt.MultipleGradientPaint.ColorSpaceType.*;

class ClefG 
{
	static public function paint(g:Graphics2D)
	{
	var shape: GeneralPath = new GeneralPath();
		
    shape.moveTo(95.72971, 266.7949);
    shape.curveTo(90.15467, 269.58765, 83.244736, 270.98398, 75.00461, 270.98398);
    shape.curveTo(65.304794, 270.98398, 56.005226, 269.314, 47.094116, 265.9764);
    shape.curveTo(38.185356, 262.63644, 30.336046, 258.11478, 23.548536, 252.40666);
    shape.curveTo(16.761026, 246.70328, 11.306056, 240.02573, 7.185997, 232.37637);
    shape.curveTo(3.065927, 224.72704, 1.005897, 216.5918, 1.005897, 207.97066);
    shape.curveTo(1.005897, 178.70831, 21.733358, 146.6556, 63.190617, 111.81016);
    shape.curveTo(61.855717, 106.46765, 60.857487, 101.06617, 60.191208, 95.601006);
    shape.curveTo(59.524937, 90.14056, 59.190628, 84.49377, 59.190628, 78.662994);
    shape.curveTo(59.190628, 70.65277, 59.85455, 62.79113, 61.187088, 55.08046);
    shape.curveTo(62.51729, 47.369793, 64.426636, 40.145027, 66.910446, 33.406136);
    shape.curveTo(69.396614, 26.66727, 72.45253, 20.536942, 76.08759, 15.012819);
    shape.curveTo(79.720314, 9.486317, 83.901596, 4.841977, 88.62436, 1.0821829);
    shape.curveTo(105.09991, 23.907566, 113.33533, 45.706905, 113.33533, 66.4684);
    shape.curveTo(113.33533, 79.94851, 110.15464, 92.7894, 103.79091, 104.99108);
    shape.curveTo(97.42953, 117.19512, 87.46132, 129.06187, 73.88866, 140.60075);
    shape.lineTo(81.886284, 179.0291);
    shape.curveTo(86.24884, 178.67294, 88.6738, 178.49603, 89.15878, 178.49603);
    shape.curveTo(95.21645, 178.49603, 100.883316, 179.58812, 106.15464, 181.77466);
    shape.curveTo(111.42832, 183.95883, 116.03573, 186.96385, 119.98157, 190.78735);
    shape.curveTo(123.92506, 194.61084, 127.0516, 199.13252, 129.35884, 204.35237);
    shape.curveTo(131.66373, 209.57224, 132.81734, 215.2143, 132.81969, 221.28566);
    shape.curveTo(132.81769, 225.65402, 132.03099, 229.96577, 130.45595, 234.21147);
    shape.curveTo(128.8809, 238.4619, 126.641945, 242.50003, 123.73436, 246.32117);
    shape.curveTo(120.82442, 250.14703, 117.37063, 253.66388, 113.372986, 256.8788);
    shape.curveTo(109.37534, 260.09845, 104.95158, 262.86053, 100.10403, 265.1674);
    shape.curveTo(100.10403, 264.92444, 100.28532, 265.62262, 100.64788, 267.25958);
    shape.curveTo(101.0128, 268.8989, 101.46718, 271.05005, 102.01103, 273.7225);
    shape.curveTo(102.557236, 276.39258, 103.1929, 279.36694, 103.92038, 282.64557);
    shape.curveTo(104.64787, 285.9218, 105.28354, 289.07782, 105.82974, 292.1111);
    shape.curveTo(106.375946, 295.1468, 106.85858, 297.84988, 107.28471, 300.21335);
    shape.curveTo(107.708496, 302.58386, 107.92039, 304.19016, 107.92039, 305.0393);
    shape.curveTo(107.92039, 310.74506, 106.70791, 315.9649, 104.28531, 320.69888);
    shape.curveTo(101.86036, 325.43283, 98.587845, 329.4993, 94.46543, 332.89822);
    shape.curveTo(90.34537, 336.29477, 85.55668, 338.93655, 80.10407, 340.81882);
    shape.curveTo(74.6491, 342.70108, 68.890434, 343.6422, 62.828053, 343.6422);
    shape.curveTo(58.222992, 343.6422, 53.921642, 342.91336, 49.919304, 341.45566);
    shape.curveTo(45.919304, 339.99796, 42.404305, 337.93408, 39.374283, 335.26636);
    shape.curveTo(36.346634, 332.5939, 33.952282, 329.35068, 32.193604, 325.5272);
    shape.curveTo(30.437283, 321.70605, 29.559113, 317.48865, 29.559113, 312.87735);
    shape.curveTo(29.559113, 309.59872, 30.105322, 306.5017, 31.195374, 303.59106);
    shape.curveTo(32.285423, 300.6804, 33.801605, 298.19196, 35.739212, 296.12805);
    shape.curveTo(37.679173, 294.06415, 40.04291, 292.42487, 42.830433, 291.2148);
    shape.curveTo(45.620304, 290.00006, 48.650322, 289.3915, 51.92047, 289.3915);
    shape.curveTo(54.83041, 289.3915, 57.55672, 290.0614, 60.10174, 291.39642);
    shape.curveTo(62.646763, 292.73145, 64.82922, 294.46277, 66.64676, 296.5856);
    shape.curveTo(68.4643, 298.71082, 69.919266, 301.1403, 71.01167, 303.8717);
    shape.curveTo(72.10172, 306.60077, 72.647934, 309.36282, 72.647934, 312.15555);
    shape.curveTo(72.647934, 318.46985, 70.3148, 323.63074, 65.64617, 327.6382);
    shape.curveTo(60.9799, 331.64334, 55.13412, 334.0115, 48.10176, 334.73798);
    shape.curveTo(53.6768, 337.53308, 59.430763, 338.92944, 65.36836, 338.92706);
    shape.curveTo(70.21356, 338.92908, 74.94104, 338.04962, 79.54609, 336.28528);
    shape.curveTo(84.14879, 334.52567, 88.17468, 332.1575, 91.63083, 329.18317);
    shape.curveTo(95.08462, 326.2088, 97.87214, 322.74384, 99.99103, 318.7977);
    shape.curveTo(102.10992, 314.85156, 103.171715, 310.63416, 103.171715, 306.14078);
    shape.curveTo(103.171715, 304.43777, 102.98807, 302.5555, 102.62786, 300.49164);
    shape.lineTo(95.72971, 266.7949);
    shape.closePath();
    shape.moveTo(95.18821, 27.488123);
    shape.curveTo(93.97338, 27.245054, 92.88097, 27.122526, 91.91335, 27.122526);
    shape.curveTo(88.153496, 27.122526, 84.66674, 29.035442, 81.453094, 32.861305);
    shape.curveTo(78.23944, 36.684784, 75.44958, 41.664055, 73.08583, 47.794384);
    shape.curveTo(70.72209, 53.927067, 68.87395, 60.816902, 67.53669, 68.46624);
    shape.curveTo(66.20415, 76.11561, 65.53552, 83.76494, 65.53552, 91.41428);
    shape.curveTo(65.53552, 94.57262, 65.6603, 97.60829, 65.900444, 100.521324);
    shape.curveTo(66.145294, 103.43671, 66.57378, 106.22943, 67.18354, 108.89951);
    shape.curveTo(91.9157, 86.92327, 104.28296, 67.131226, 104.28296, 49.525696);
    shape.curveTo(104.28296, 41.14749, 101.25059, 33.80242, 95.18821, 27.488129);
    shape.closePath();
    shape.moveTo(99.00221, 259.339);
    shape.curveTo(104.946884, 254.96826, 109.46247, 250.17062, 112.5584, 244.94841);
    shape.curveTo(115.649635, 239.72855, 117.19643, 234.08412, 117.19643, 228.0104);
    shape.curveTo(117.19643, 224.24825, 116.5584, 220.57571, 115.28471, 216.99045);
    shape.curveTo(114.013374, 213.41226, 112.19585, 210.22327, 109.82974, 207.42818);
    shape.curveTo(107.46365, 204.64017, 104.64317, 202.3923, 101.36832, 200.69638);
    shape.curveTo(98.09346, 198.99811, 94.517235, 198.15132, 90.63966, 198.15132);
    shape.curveTo(90.39717, 198.15132, 89.91217, 198.18202, 89.18469, 198.23862);
    shape.curveTo(88.459564, 198.29991, 87.42836, 198.38959, 86.095825, 198.50752);
    shape.lineTo(99.00221, 259.33902);
    shape.closePath();
    shape.moveTo(81.56374, 199.26225);
    shape.curveTo(77.80625, 199.74579, 74.291245, 200.68694, 71.018745, 202.0833);
    shape.curveTo(67.74624, 203.47968, 64.930466, 205.21097, 62.566727, 207.27484);
    shape.curveTo(60.202988, 209.33873, 58.324238, 211.7069, 56.930477, 214.37697);
    shape.curveTo(55.536716, 217.04941, 54.839836, 219.96243, 54.839836, 223.12077);
    shape.curveTo(54.839836, 232.4684, 59.805107, 240.24039, 69.72858, 246.43204);
    shape.curveTo(61.488445, 245.097, 54.882217, 241.91037, 49.91224, 236.86977);
    shape.curveTo(44.94227, 231.83154, 42.458458, 225.48892, 42.458458, 217.83722);
    shape.curveTo(42.458458, 213.3462, 43.397827, 209.00616, 45.276577, 204.81706);
    shape.curveTo(47.155327, 200.62798, 49.669746, 196.86108, 52.819828, 193.51642);
    shape.curveTo(55.974617, 190.16939, 59.670906, 187.27995, 63.911037, 184.85046);
    shape.curveTo(68.15353, 182.41626, 72.63852, 180.71326, 77.36365, 179.74382);
    shape.lineTo(69.72858, 143.31802);
    shape.curveTo(52.640896, 156.18486, 39.703896, 168.81348, 30.917568, 181.19914);
    shape.curveTo(22.131237, 193.58481, 17.738068, 205.84782, 17.738068, 217.99054);
    shape.curveTo(17.738068, 224.66809, 19.221287, 230.98476, 22.192448, 236.93346);
    shape.curveTo(25.163597, 242.88452, 29.165947, 248.07372, 34.197136, 252.50575);
    shape.curveTo(39.228325, 256.94016, 45.048206, 260.43106, 51.656796, 262.9785);
    shape.curveTo(58.263023, 265.53064, 65.26243, 266.8067, 72.655, 266.8067);
    shape.curveTo(76.89749, 266.8067, 80.836266, 266.41043, 84.47134, 265.62262);
    shape.curveTo(88.108765, 264.83246, 91.50134, 263.58704, 94.651436, 261.88876);
    shape.lineTo(81.56374, 199.26225);
    shape.closePath();
	
	g.setPaint(Color.BLACK);
	g.fill(shape);
		
		
		
	}
	
	
	
}